<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday ♡- Movie Cards</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bitcount:wght@100..900&family=Merienda:wght@300..900&family=Story+Script&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Merienda', cursive;
        }
        
        body {
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            padding-bottom: 70px; /* Space for bottom navigation */
        }
        
        /* Animated background */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .bg-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRni8ZwUhx47p1guPvLK9XsUIeWkUQC8464Hqqi4IGhiL2eJlA-wzYOdXfjD13VUG3hptg&usqp=CAU');
            background-size: cover;
            background-position: center;
            opacity: 0.15;
            animation: zoom 20s infinite alternate;
        }
        
        .bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 51, 102, 0.2), rgba(0, 0, 0, 0.8));
            animation: pulse 8s infinite alternate;
        }
        
        @keyframes zoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }
        
        @keyframes pulse {
            0% { opacity: 0.5; }
            100% { opacity: 0.8; }
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #ff3366;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
        }
        
        .logo {
            font-family: 'Story Script', cursive;
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .nav-buttons {
            display: flex;
            gap: 10px;
        }
        
        .nav-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 20px;
            transition: all 0.3s;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .nav-btn.active {
            background-color: #000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .main-content {
            margin-top: 70px;
            height: calc(100vh - 70px);
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .swipe-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            position: relative;
        }
        
        .swipe-section.hidden {
            display: none;
        }
        
        .swipe-header {
            display: flex;
            flex-direction: column; /* Changed */
            align-items: center;    /* Changed */
            gap: 15px;              /* Added */
            margin-bottom: 20px;
        }
        
        .birthday-text {
            font-size: 24px;
            color: #ff3366;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .filter-button {
            background-color: #ff3366;
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .filter-button:hover {
            background-color: #ff5588;
            transform: translateY(-2px);
        }
        
        .filter-dropdown {
            position: absolute;
            top: 120px; /* Adjusted position */
            background-color: rgba(34, 34, 34, 0.95);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            border: 1px solid #ff3366;
            z-index: 100;
            display: none;
            min-width: 200px;
        }
        
        .filter-dropdown.active {
            display: block;
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .filter-option:last-child {
            margin-bottom: 0;
        }
        
        .filter-label {
            margin-left: 10px;
            font-size: 14px;
        }
        
        .filter-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .card-container {
            position: relative;
            width: 90%;
            max-width: 400px;
            height: 500px;
            margin: 0 auto 20px;
        }
        
        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(34, 34, 34, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            cursor: grab;
            transition: transform 0.3s;
            backdrop-filter: blur(10px);
            border: 1px solid #ff3366;
        }
        
        .card:active {
            cursor: grabbing;
        }
        
        .card-image {
            width: 100%;
            height: 65%;
            object-fit: cover;
            border-bottom: 1px solid #ff3366;
        }
        
        .card-content {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .card-title {
            font-size: 22px;
            font-weight: bold;
            color: #ff3366;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .card-description {
            font-size: 14px;
            line-height: 1.3;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .card-link {
            display: inline-block;
            margin-top: 8px;
            padding: 6px 12px;
            background-color: #ff3366;
            color: #fff;
            text-decoration: none;
            border-radius: 15px;
            transition: all 0.3s;
            align-self: flex-start;
            font-size: 14px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .card-link:hover {
            background-color: #ff5588;
            transform: translateY(-2px);
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 10px;
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
        }
        
        .action-buttons.hidden {
            display: none;
        }
        
        .action-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid #ff3366; /* Changed */
            background-color: transparent; /* Changed */
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .action-btn svg { /* Added for SVG styling */
            width: 28px;
            height: 28px;
            stroke: #ff3366;
            stroke-width: 2;
            fill: none;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.5);
            background-color: #ff3366; /* Added hover fill */
        }

        .action-btn:hover svg {
             stroke: #fff; /* Make icon visible on hover */
        }
        
        .action-btn.dislike {
            border-color: #aaa; /* Changed from background */
        }
        .action-btn.dislike svg {
            stroke: #aaa; /* Match icon to border */
        }
        .action-btn.dislike:hover {
             background-color: #aaa;
        }
        .action-btn.dislike:hover svg {
             stroke: #000;
        }

        .action-btn.tv {
            border-color: #ffcc00; /* Changed from background */
        }
        .action-btn.tv svg {
            stroke: #ffcc00; /* Match icon to border */
        }
        .action-btn.tv:hover {
            background-color: #ffcc00;
        }
        .action-btn.tv:hover svg {
            stroke: #000;
        }
        
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 12px 20px;
            background-color: #ff3366;
            color: #fff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transform: translateX(150%);
            transition: transform 0.3s;
            z-index: 1001;
            max-width: 300px;
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .no-more-movies {
            text-align: center;
            padding: 40px 20px;
            background-color: rgba(34, 34, 34, 0.8);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid #ff3366;
        }
        
        .no-more-movies h2 {
            font-size: 24px;
            color: #ff3366;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .no-more-movies p {
            font-size: 16px;
            line-height: 1.4;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* Library Section */
        .library-section {
            display: none;
            padding: 20px;
            overflow-y: auto;
            height: 100%;
        }
        
        .library-section.active {
            display: block;
        }
        
        .library-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        
        .library-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .library-tab.active {
            color: #ff3366;
            border-bottom-color: #ff3366;
        }
        
        .library-tab-content {
            display: none;
        }
        
        .library-tab-content.active {
            display: block;
        }
        
        .library-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            padding: 10px 0;
        }
        
        .library-card {
            background-color: rgba(34, 34, 34, 0.9);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: all 0.3s;
            backdrop-filter: blur(5px);
            border: 1px solid #ff3366;
        }
        
        .library-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        
        .library-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid #ff3366;
        }
        
        .library-content {
            padding: 12px;
        }
        
        .library-title {
            font-size: 16px;
            color: #ff3366;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .library-description {
            font-size: 12px;
            line-height: 1.3;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .library-link {
            display: inline-block;
            padding: 4px 8px;
            background-color: #ff3366;
            color: #fff;
            text-decoration: none;
            border-radius: 12px;
            font-size: 12px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .library-link:hover {
            background-color: #ff5588;
            transform: translateY(-2px);
        }
        
        .rewatch-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ff3366;
            color: #fff;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Gallery Section */
        .gallery-section {
            display: none;
            padding: 20px;
            overflow-y: auto;
            height: 100%;
        }
        
        .gallery-section.active {
            display: block;
        }
        
        .gallery-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .profile-picture {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ff3366;
            margin-right: 15px;
        }
        
        .profile-info h2 {
            font-size: 24px;
            color: #ff3366;
            margin-bottom: 5px;
        }
        
        .profile-info p {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .gallery-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 18px;
            font-weight: bold;
            color: #ff3366;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            background-color: #222;
        }
        
        .gallery-item {
            position: relative;
            padding-bottom: 100%; /* 1:1 aspect ratio */
            overflow: hidden;
            cursor: pointer;
        }
        
        .gallery-item img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .gallery-item:hover img {
            transform: scale(1.05);
        }
        
        .gallery-item .likes {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 2px 5px;
            border-radius: 10px;
            font-size: 12px;
            display: flex;
            align-items: center;
        }
        
        /* Fullscreen Image Modal */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .image-modal.active {
            display: flex;
        }
        
        .modal-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border: 2px solid #ff3366;
            border-radius: 5px;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: #fff;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: #ff3366;
        }
        
        /* Music Section */
        .music-section {
            display: none;
            padding: 20px;
            overflow-y: auto;
            height: 100%;
        }
        
        .music-section.active {
            display: block;
        }
        
        .music-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .music-header h2 {
            font-size: 28px;
            color: #ff3366;
            margin-bottom: 10px;
        }
        
        .music-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .music-card {
            background-color: rgba(34, 34, 34, 0.9);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: all 0.3s;
            border: 1px solid #ff3366;
            display: flex;
            flex-direction: column;
        }
        
        .music-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        
        .music-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .music-content {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .music-title {
            font-size: 18px;
            color: #ff3366;
            margin-bottom: 10px;
        }
        
        .music-artist {
            font-size: 14px;
            margin-bottom: 15px;
            opacity: 0.8;
        }
        
        .music-link {
            display: inline-block;
            padding: 8px 15px;
            background-color: #ff3366;
            color: #fff;
            text-decoration: none;
            border-radius: 20px;
            transition: all 0.3s;
            align-self: flex-start;
            font-size: 14px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .music-link:hover {
            background-color: #ff5588;
            transform: translateY(-2px);
        }
        
        /* Genre Filter */
        .genre-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .genre-btn {
            padding: 8px 15px;
            background-color: rgba(34, 34, 34, 0.9);
            color: #fff;
            border: 1px solid #ff3366;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .genre-btn:hover {
            background-color: #ff3366;
            transform: translateY(-2px);
        }
        
        .genre-btn.active {
            background-color: #ff3366;
        }
        
        /* Gift Section */
        .gift-section {
            display: none;
            padding: 30px;
            overflow-y: auto;
            height: 100%;
        }
        
        .gift-section.active {
            display: block;
        }
        
        .gift-container {
            max-width: 700px;
            margin: 0 auto;
            background-color: rgba(34, 34, 34, 0.9);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            border: 1px solid #ff3366;
            position: relative;
        }
        
        .gift-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #ff3366, #ff5588, #ff3366);
            border-radius: 20px 20px 0 0;
        }
        
        .gift-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .gift-title {
            font-family: 'Story Script', cursive;
            font-size: 36px;
            color: #ff3366;
            margin-bottom: 10px;
        }
        
        .gift-subtitle {
            font-size: 18px;
            opacity: 0.8;
        }
        
        .gift-letter {
    font-size: 18px;
    line-height: 1.8;
    margin-bottom: 30px;
    text-align: left;
}
        
        .gift-letter p {
            margin-bottom: 20px;
        }
        
        .gift-letter p:last-child {
            margin-bottom: 0;
        }
        
        .gift-signature {
            text-align: right;
            font-style: italic;
            font-size: 20px;
            color: #ff3366;
            margin-top: 30px;
        }
        
        .gift-heart {
            text-align: center;
            font-size: 40px;
            margin-top: 30px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70px;
            background-color: #222;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: #ff3366;
        }
        
        .nav-icon {
            margin-bottom: 4px;
        }
        
        /* ===== NEW CSS FOR SVG ICONS ===== */
        .nav-icon svg {
            width: 26px;
            height: 26px;
            stroke: #fff; /* Default outline color */
            stroke-width: 1.5;
            fill: none;
            transition: stroke 0.3s;
        }

        .nav-item.active .nav-icon svg {
            stroke: #ff3366; /* Active outline color */
        }
        /* ===== END OF NEW CSS ===== */

        .nav-label {
            font-size: 12px;
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 10px;
            }
            
            .logo {
                font-size: 20px;
            }
            
            .nav-buttons {
                display: none; /* Hide top navigation on mobile */
            }
            
            .main-content {
                margin-top: 60px;
                height: calc(100vh - 60px);
            }
            
            .swipe-header {
                flex-direction: column;
                align-items: center; /* Changed */
                gap: 15px;
            }
            
            .birthday-text {
                font-size: 20px;
                align-self: center; /* Changed */
            }
            
            .card-container {
                height: 450px;
                margin-bottom: 60px;
            }
            
            .card-image {
                height: 60%;
            }
            
            .card-title {
                font-size: 18px;
            }
            
            .card-description {
                font-size: 12px;
            }
            
            .action-btn {
                width: 50px;
                height: 50px;
            }

            .action-btn svg {
                width: 24px;
                height: 24px;
            }
            
            .library-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .notification {
                top: 70px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
            
            .gallery-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-picture {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .gallery-stats {
                justify-content: center;
            }
            
            .music-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .gift-container {
                padding: 20px;
            }
            
            .gift-title {
                font-size: 28px;
            }
            
            .gift-letter {
                font-size: 16px;
            }
            
            .genre-filter {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background">
        <div class="bg-image"></div>
        <div class="bg-overlay"></div>
    </div>
    
    <header class="header">
        <div class="logo">Happy Birthday ♡</div>
        <div class="nav-buttons">
            <button class="nav-btn active" id="swipeBtn">Discover</button>
            <button class="nav-btn" id="libraryBtn">Library</button>
        </div>
    </header>
    
    <div class="main-content">
        <section class="swipe-section" id="swipeSection">
            <div class="swipe-header">
                <div class="birthday-text">Happy Birthday Lai : )</div>
                <button class="filter-button" id="filterButton">Filter</button>
                <div class="filter-dropdown" id="filterDropdown">
                    <div class="filter-option">
                        <input type="checkbox" id="actionFilter" class="filter-checkbox" value="action">
                        <label for="actionFilter" class="filter-label">Action</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="dramaFilter" class="filter-checkbox" value="drama">
                        <label for="dramaFilter" class="filter-label">Drama</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="horrorFilter" class="filter-checkbox" value="horror">
                        <label for="horrorFilter" class="filter-label">Horror</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="comedyFilter" class="filter-checkbox" value="comedy">
                        <label for="comedyFilter" class="filter-label">Comedy</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="sciFiFilter" class="filter-checkbox" value="sci-fi">
                        <label for="sciFiFilter" class="filter-label">Sci-Fi</label>
                    </div>
                </div>
            </div>
            
            <div class="card-container" id="cardContainer">
                <!-- Cards will be dynamically generated here -->
            </div>
            
            <div class="action-buttons" id="actionButtons">
                <button class="action-btn dislike" id="dislikeBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.13a2 2 0 0 0-1.2 3.6l3.32 3.32a2 2 0 0 0 2.83 0l2.83-2.83"></path><path d="M14 2v7h-3"></path></svg>
                </button>
                <button class="action-btn tv" id="tvBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>
                </button>
                <button class="action-btn" id="likeBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22V9"></path></svg>
                </button>
            </div>
        </section>
        
        <section class="library-section" id="librarySection">
            <div class="library-tabs">
                <div class="library-tab active" id="allMoviesTab">All Movies</div>
                <div class="library-tab" id="rewatchTab">Let's Rewatch</div>
            </div>
            
            <div class="library-tab-content active" id="allMoviesContent">
                <div class="genre-filter">
                    <button class="genre-btn active" data-genre="all">All</button>
                    <button class="genre-btn" data-genre="action">Action</button>
                    <button class="genre-btn" data-genre="drama">Drama</button>
                    <button class="genre-btn" data-genre="horror">Horror</button>
                    <button class="genre-btn" data-genre="comedy">Comedy</button>
                    <button class="genre-btn" data-genre="sci-fi">Sci-Fi</button>
                </div>
                <div class="library-grid" id="libraryGrid">
                    <!-- Library cards will be dynamically generated here -->
                </div>
            </div>
            
            <div class="library-tab-content" id="rewatchContent">
                <div class="library-grid" id="rewatchGrid">
                    <!-- Rewatch movies will be dynamically generated here -->
                </div>
            </div>
        </section>
        
        <section class="gallery-section" id="gallerySection">
            <div class="gallery-header">
                <img src="https://i.postimg.cc/xdhLSzXM/503653975-18089838568724873-4136813263942878372-n.jpg" alt="Profile" class="profile-picture">
                <div class="profile-info">
                    <h2>Larivien</h2>
                    <p>Cinema enthusiast | Movie lover</p>
                </div>
            </div>
            
            <div class="gallery-stats">
                <div class="stat">
                    <div class="stat-number" id="likedCount">0</div>
                    <div class="stat-label">Liked</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="dislikedCount">0</div>
                    <div class="stat-label">Disliked</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="swipedCount">0</div>
                    <div class="stat-label">Swiped</div>
                </div>
            </div>
            
            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be dynamically generated here -->
            </div>
        </section>
        
        <section class="music-section" id="musicSection">
            <div class="music-header">
                <h2>I wanted to dedicate you</h2>
                <p>Click on any song to listen on YouTube</p>
            </div>
            
            <div class="music-grid" id="musicGrid">
                <!-- Music cards will be dynamically generated here -->
            </div>
        </section>
        
        <section class="gift-section active" id="giftSection">
            <div class="gift-container">
                <div class="gift-header">
                    <h1 class="gift-title">A Letter to You</h1>
                    <p class="gift-subtitle">With all my love and appreciation</p>
                </div>
                
                <div class="gift-letter">
                    <p>My dearest,</p>
                    
                    <p>As time passes, I find myself thinking of you more often than I'd like to admit. Even though we don't talk the way we used to, and our paths have diverged, I want you to know that you'll always hold a special place in my heart.</p>
                    
                    <p>I remember all the laughter we shared, the late-night conversations, and the quiet moments when we understood each other without words. Those memories are precious to me, and I cherish them deeply.</p>
                    
                    <p>I wish you nothing but the absolute best in everything you do. May your dreams come true, may your heart find peace, and may you always surround yourself with people who love and appreciate you as much as I once did.</p>
                    
                    <p>Even though we're not together anymore, I want you to know that I love you. Not in a way that wants to change the past or dictate your future, but in a way that acknowledges the beautiful impact you had on my life.</p>
                    
                    <p>I also have a little something for you, a book I hope you'll enjoy. <a href="https://drive.google.com/file/d/1vIbGhXe410gYwhk5FxwxOmeHayFleK1B/view?usp=sharing" target="_blank" style="color: #ff5588; text-decoration: underline;">You can find it here</a>.</p>
                    
                    <p>Thank you for being a part of my journey. I hope you find all the happiness you deserve in this world.</p>
                </div>
                
                <div class="gift-signature">
                    With all my love,
                    <br>Forever yours
                </div>
                
                <div class="gift-heart">❤️</div>
            </div>
        </section>
    </div>
    
    <!-- Fullscreen Image Modal -->
    <div class="image-modal" id="imageModal">
        <span class="close-modal" id="closeModal">&times;</span>
        <img src="" alt="" class="modal-image" id="modalImage">
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item" id="galleryNav">
            <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
            </div>
            <div class="nav-label">Gallery</div>
        </div>
        <div class="nav-item" id="cardsNav">
            <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg>
            </div>
            <div class="nav-label">Cards</div>
        </div>
        <div class="nav-item active" id="giftNav">
            <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></svg>
            </div>
            <div class="nav-label">Gift</div>
        </div>
        <div class="nav-item" id="musicNav">
            <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
            </div>
            <div class="nav-label">Music</div>
        </div>
        <div class="nav-item" id="libraryNav">
            <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
            </div>
            <div class="nav-label">Library</div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // Movie data with your requested movies and genres
        const movies = [
            {
                id: 1,
                title: "Pretty Woman",
                description: "A wealthy businessman hires a prostitute to be his date for several business and social functions, and they fall in love.",
                image: "https://static.independent.co.uk/s3fs-public/thumbnails/image/2020/03/20/10/pretty-woman2.jpg?width=1200https://picsum.photos/seed/prettywoman/400/600",
                link: "https://nmovies.cc/pretty-woman-1990",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: false
            },
            {
                id: 2,
                title: "The Lovely Bones",
                description: "A young girl who has been murdered watches from heaven as her family and friends struggle to move on with their lives while her killer remains at large.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQG9n88X0tYEcsr_7YyOaG5Us8V4kwFhJ-y2w&s",
                link: "https://nmovies.cc/the-lovely-bones-2009",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: true
            },
            {
                id: 3,
                title: "Winnie the Pooh: Blood and Honey",
                description: "When Christopher Robin abandons the Hundred Acre Wood, Winnie the Pooh and his friends turn into vengeful monsters seeking revenge.",
                image: "https://multiplayer.net-cdn.it/thumbs/images/2022/05/27/winnie-pooh-horror-3_jpg_1200x0_crop_q85.jpg",
                link: "https://novamovie.net/winnie-the-pooh-blood-and-honey-2023",
                likes: Math.floor(Math.random() * 1000),
                genre: "horror",
                rewatch: false
            },
            {
                id: 4,
                title: "Godzilla vs. Kong",
                description: "The epic battle between the two titans as they clash in a spectacular fight, while humans uncover the conspiracy behind their existence.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRyzmByNCJdgjjgBRIuz-AGfe5byT6N_CFinA&s",
                link: "https://novamovie.net/godzilla-vs-kong",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: true
            },
            {
                id: 5,
                title: "Inside Out",
                description: "The story of Riley's emotions - Joy, Sadness, Anger, Fear, and Disgust - as they try to guide her through life after her family moves to a new city.",
                image: "https://www.denofgeek.com/wp-content/uploads/2024/06/Anxiety-and-Disgust-in-Inside-Out-2-Review.jpeg?fit=1300%2C675",
                link: "https://novamovie.net/inside-out-2015",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: true
            },
            {
                id: 6,
                title: "The Walking Dead: Daryl Dixon",
                description: "The survival story of Daryl Dixon as he navigates a post-apocalyptic France, searching for purpose and answers to how he got there.",
                image: "https://images.mubicdn.net/images/film/361475/cache-832828-1745500680/image-w1280.jpg?size=800x",
                link: "https://novamovie.net/series/the-walking-dead-daryl-dixon-season-1",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 7,
                title: "Godzilla: King of the Monsters",
                description: "The mighty Godzilla returns to face enormous prehistoric creatures, including the three-headed King Ghidorah, who threatens to wipe out humanity.",
                image: "https://i.ytimg.com/vi/gCJuPavZetY/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLBKhrNUpi7EVEcBdREHDPYnc3iiLA",
                link: "https://novamovie.net/godzilla-king-of-the-monsters-2019",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: true
            },
            {
                id: 8,
                title: "It",
                description: "A group of young kids face their deepest fears when they encounter a shape-shifting entity that preys on the children of Derry, Maine.",
                image: "https://upload.wikimedia.org/wikipedia/it/thumb/9/98/It_-_Capitolo_due.png/1200px-It_-_Capitolo_due.png",
                link: "https://novamovie.net/it-chapter-two-2019",
                likes: Math.floor(Math.random() * 1000),
                genre: "horror",
                rewatch: false
            },
            {
                id: 9,
                title: "Speak No Evil",
                description: "A family's vacation turns into a nightmare when they befriend another family whose behavior becomes increasingly sinister and threatening.",
                image: "https://m.media-amazon.com/images/S/pv-target-images/941faa02b2ffce41f467010061f8a267eeba4d71656c760552ab4c5211a8f17a._SX1080_FMjpg_.jpg",
                link: "https://novamovie.net/speak-no-evil-2022",
                likes: Math.floor(Math.random() * 1000),
                genre: "horror",
                rewatch: true
            },
            {
                id: 10,
                title: "La Scuola Serale",
                description: "A group of troublemakers are forced to attend night school in hopes that they'll pass the GED exam to finish high school.",
                image: "https://m.media-amazon.com/images/S/pv-target-images/c0198da934b79d3f8eeb7ca40024518d18d8c282581a93988a348d148d4799e9.jpg",
                link: "https://novamovie.net/night-school-2018",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: false
            },
            {
                id: 11,
                title: "Norbit",
                description: "A mild-mannered man who is married to a monstrous woman meets the woman of his dreams, and schemes to find a way to be with her.",
                image: "https://www.hollywoodreporter.com/wp-content/uploads/2015/01/norbit_still.jpg",
                link: "https://novamovie.net/norbit-2007",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: false
            },
            {
                id: 12,
                title: "Life Is Beautiful",
                description: "When an open-minded Jewish librarian and his son become victims of the Holocaust, he uses a perfect mixture of will, humor, and imagination to protect his son from the dangers around their camp.",
                image: "https://media.cnn.com/api/v1/images/stellar/prod/200320084342-life-is-beautiful.jpg?q=x_50,y_0,h_750,w_1332,c_crop/h_833,w_1480",
                link: "https://novamovie.net/life-is-beautiful-1997",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: false
            },
            {
                id: 13,
                title: "The Pianist",
                description: "A Polish Jewish musician struggles to survive the destruction of the Warsaw ghetto of World War II.",
                image: "https://www.pianostreet.com/blog/wp-content/uploads/2022/03/pianist-screen-1.jpg",
                link: "https://novamovie.net/pianist-2002-brrip",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: false
            },
            {
                id: 14,
                title: "The Perks of Being a Wallflower",
                description: "An introvert freshman is taken under the wings of two seniors who welcome him to the real world.",
                image: "https://occ-0-8407-114.1.nflxso.net/dnm/api/v6/Z-WHgqd_TeJxSuha8aZ5WpyLcX8/AAAABWXR5EtUNNbGueo-WvEouYziL3X_r8oTQR7bMskdYBYzwoAcq5-bDLWYmAhdlaWApFHV01P-WF4fL_qPaoR7so-9zfm04s8GJ1f0.jpg?r=d7c",
                link: "https://novamovie.net/the-perks-of-being-a-wallflower-2012",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: false
            },
            {
                id: 15,
                title: "Terrifier",
                description: "A maniacal clown named Art, terrorizes three young women on Halloween night and everyone else who stands in his way.",
                image: "https://media-assets.wired.it/photos/66a76227d0924ce85a7c19dc/16:9/w_2560%2Cc_limit/Art1-bassa.jpg",
                link: "https://novamovie.net/terrifier-2017",
                likes: Math.floor(Math.random() * 1000),
                genre: "horror",
                rewatch: false
            },
            {
                id: 16,
                title: "Jumanji",
                description: "When two kids find and play a magical board game, they release a man trapped for decades in it and a host of dangers that can only be stopped by finishing the game.",
                image: "https://upload.wikimedia.org/wikipedia/it/7/7b/JumanjiWelcometotheJungle.png",
                link: "https://novamovie.net/jumanji-welcome-to-the-jungle-2017",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 17,
                title: "Divergent",
                description: "In a world divided by factions based on virtues, Tris learns she's Divergent and won't fit in. When she discovers a plot to destroy Divergents, Tris and the mysterious Four must find out what makes Divergents dangerous before it's too late.",
                image: "https://mountainx.com/wp-content/uploads/2016/03/the-divergent-series-insurgent-releasing-date-121.jpg",
                link: "https://novamovie.net/divergent-2014",
                likes: Math.floor(Math.random() * 1000),
                genre: "sci-fi",
                rewatch: false
            },
            {
                id: 18,
                title: "Taken",
                description: "A retired CIA agent travels across Europe and relies on his old skills to save his estranged daughter, who has been kidnapped while on a trip to Paris.",
                image: "https://images.pathe-thuis.nl/8812_1920x1080.jpg",
                link: "https://novamovie.net/taken-2-2012",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 19,
                title: "The Platform",
                description: "A vertical prison with one cell per level. Two people per cell. One only food platform and two minutes per day to feed from top to bottom. An endless nightmare trapped in The Pit.",
                image: "https://assets.mubicdn.net/images/film/242224/image-w1280.jpg?1745496275",
                link: "https://novamovie.net/the-platform-2019",
                likes: Math.floor(Math.random() * 1000),
                genre: "horror",
                rewatch: false
            },
            {
                id: 20,
                title: "Venom",
                description: "A failed reporter is bonded to an alien entity, one of many symbiotes who have invaded Earth. But the being takes a liking to Earth and decides to protect it.",
                image: "https://occ-0-8407-114.1.nflxso.net/dnm/api/v6/Z-WHgqd_TeJxSuha8aZ5WpyLcX8/AAAABQ48RxZmyV5xlAWx7XIM0aWdP6cnGOCselDbKOOls6pOqI-RYWNqDgz2HYAdQjfCXdXbcx-9mmX_oyu-tI9A8WDF19W41qGBXGzl.jpg?r=119",
                link: "https://novamovie.net/watch-free-venom-2018",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 21,
                title: "Venom: Let There Be Carnage",
                description: "Eddie Brock attempts to reignite his career by interviewing serial killer Cletus Kasady, who becomes the host of the symbiote Carnage and escapes prison after a failed execution.",
                image: "https://pad.mymovies.it/filmclub/2019/08/028/coverlg_home.jpg",
                link: "https://novamovie.net/let-there-be-carnage-2021",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 22,
                title: "Where Hands Touch",
                description: "A biracial girl, the daughter of a German mother and a Black father, struggles for survival in Nazi Germany.",
                image: "https://www.indiewire.com/wp-content/uploads/2017/02/wht-photo.jpg",
                link: "https://novamovie.net/where-hands-touch-2018",
                likes: Math.floor(Math.random() * 1000),
                genre: "drama",
                rewatch: false
            },
            {
                id: 23,
                title: "Venom: The Last Dance",
                description: "Eddie and Venom are on the run. Hunted by both of their worlds and with the net closing in, the duo are forced into a devastating decision that will bring the curtains down on Venom and Eddie's last dance.",
                image: "https://i0.wp.com/www.comicsuniverse.it/wp-content/uploads/2023/01/venom-3-tom-hardy.jpg?fit=1280%2C720&ssl=1",
                link: "https://novamovie.net/venom-the-last-dance-2024",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 24,
                title: "Spider-Man 3",
                description: "A strange black entity from another world bonds with Peter Parker and causes inner turmoil as he deals with new villains, temptations, and revenge.",
                image: "https://thumbor.prod.vidiocdn.com/m5NPxEtg1bYPfz_l8KTN68LM-PQ=/1280x720/filters:quality(70)/vidio-web-prod-video/uploads/video/image/7775070/spider-man-3-1ca162.jpg",
                link: "https://novamovie.net/spider-man-3-2007",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 25,
                title: "The Incredible Hulk",
                description: "Bruce Banner, a scientist on the run from the U.S. Government, must find a cure for the monster he turns into whenever he loses his temper.",
                image: "https://1.bp.blogspot.com/-l3vMp280eVw/WfTM6jjYUlI/AAAAAAAACAI/eKOPSUIjN-Aj2qBobIkmcKh3Qd01tyS8ACLcBGAs/s1600/uDE1qRz.jpg",
                link: "https://novamovie.net/the-incredible-hulk-2008",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 26,
                title: "She's the Man",
                description: "When her brother decides to ditch for a couple of weeks, Viola heads over to his elite boarding school, disguises herself as him, and proceeds to fall for one of her soccer teammates.",
                image: "https://www.ilcinemasemplice.it/wp-content/uploads/2024/10/Immagini-Wordpress-Ottobre-2024-41-1024x584.png",
                link: "https://novamovie.net/shes-the-man-2006",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: false
            },
            {
                id: 27,
                title: "Fist Fight",
                description: "When one high school teacher gets the other fired, he is challenged to an after-school fight.",
                image: "https://images.seattletimes.com/wp-content/uploads/2017/02/a783a0ba-ef1f-11e6-8ebf-a37c76431424.jpg?d=780x411",
                link: "https://novamovie.net/fist-fight-2017",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: false
            },
            {
                id: 28,
                title: "Captain America: Brave New World",
                description: "Sam Wilson's first outing as Captain America finds him going up against a brand new threat.",
                image: "https://www.meganerd.it/wp-content/uploads/2025/01/captain-america-brave-new-world-poster-1600x900_jpg_1600x900_crop_q85-e1736597138248.jpeg",
                link: "https://novamovie.net/captain-america-brave-new-world-2025",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 29,
                title: "Legally Blonde 2: Red, White & Blonde",
                description: "Elle Woods heads to Washington, D.C. to join the staff of a congresswoman in order to pass a bill to ban animal testing.",
                image: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUSEhMWFRUVGBoXFxcYGBcVGRcYFxcYFhoXFxUYHSggGBslHhgWIjEhJSkrLi4uGB8zODMtNygtLisBCgoKDg0OGxAQGy0lHyYrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAKgBLAMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAFAAIDBAYBBwj/xABPEAACAQIEAgcDCQUFBQQLAAABAhEAAwQSITEFQQYTIlFhcYGRocEHIzJCUnKx0fAUYoKy4SRzkqLCM0NTs/EVk6PiFiU0RFRjdIPD0tP/xAAZAQACAwEAAAAAAAAAAAAAAAADBAABAgX/xAAzEQACAQIEAwUHBAMBAAAAAAAAAQIDEQQSITETQVEiYZGxwTJScYGh0fAUM0KCI2LxBf/aAAwDAQACEQMRAD8AFr0cwnPiCj+E/wD86zmO4c6Bbkt1bk9XnXKWWJDaad2lX7mBydq32Y1I1Mjfv0IqHjONu3rue9ca4wXKCxLEDUwJ5TPtpKM09hiUGgG+/wDG3wqz0eHYPmf9NV7+5/vG/AVP0fbsN6/6a3V9hmaftoPon4t/LUV1PnbXrHsq1bX+Zv5RXGT53D+XwpfDv/KviM11/ifwCDWyqmd4/ConXVY7z+FEMWsqx5ARVW0naH3mHuFMf+h+4vh9wGA/bfx+wM6TqWwtxRuerA9Yr1jpdfyYXDYeZlQT5IoAn1PurE4bAi5dwyHnfsE+SXAxHsWjvF75xF0ZeQW2o8ZJ/FvdSNOdoWXf6HYwtJSxCk9o6+djW9DsJ1eDLHd8zHyHZHuE+teFft4D7GZ9017/AMbcYfBuF0y2xbXzIyD86+ccVeVbzCdmYf5jTU01lguhz6rdRSxD5yt9LjQdG8DUiNUC3dT4miWH4e+hI0Ov69tO51FLMzlqEpXyq5XtqTU6DXTapWsNyX8PzqbCWWBJYbDQaGpxYe8vEnBqe6/AlsWI1b2VZftHyqoc09oR8KuteAUKnqe/yrXFh1XiZdCp7r8CpetRtT7Nzau22PMSPTTWmuhB7NXxYdV4lcGp7r8DhEEkcqZdWTOwNXuHLba8q3pVCDJ0VZ13cEkbfZrR4ngeAIGXFwW0ADq4Xsky2YJppHmRQ/1NO9jf6eolexjg5j41EzkzU72iCVkGDEg6GO47EeIqJl3FFjOMtmYdOUd0arojazXcBPK4x9iP8Yr2W0NK8I6L4tkxGGObsKUaNNMzZSZ32Ne8WtqRoO8pfE6FWGWnCXVeRHjkzW2HeDWA+UbD5uEz9m4h/wDFA+NbrFY5VuJZJ7VwNHkomsv0mytwy+jEaNzIGq3AQPMxtRKtSMVqzEIS003/AOHjWFtwonuH81aPguEYq7QAgMMzFUUakwXYgA+E1U4Bw3r71u1tmIk9yjVj7Aa3HGOF2QRaCjKg7I7p8OZ11POlqU8ks7GatLiRyIy97BZ8zWmS6EU5urdXKzoJVTMUNxduDH7y/wAk1qbfAbA1VMrD6ykhvORQ3jttVu25My4Enc6Ze1prEjXurFa1WTmt+hdOLoxUHt1Mrj0iw/8Adr72NZOwfwP4itvxy3Fh/wC7X+dhWHt7eh+Fbw7vBgq/tIkvKTECTFTWcJcYSFBH3l/PSuK0Q2hjvAI25g1PdYliLYyTrp9EelF0sB1uRHBXPsj/ABr+dRnCv9n/ADp+dSt1i/WZvKdPfSbEsOb+kmq+BZs8Ta7LeVLgfR44vElJyooBcjeCcoAnmSavYm32T5fCi3yf4pbePyNtdQqPvA5wfYGHrStJ6jdVaXNTj+C4fDAW7GHQadolQxbzY6k+dY7pP0esMDcsWRZc/SVNFJ+1l25DavTcfbdrmuQLsNyx9KyuPtTNzrAw5oFOmveQNfbTDWvcZjZwXU8+wWHZ2yIpZy5AUaknL3Vo7XQS/mS5duWrOQfRYljtG6iB7a0HyfcOFnDvjbgl7hOTT6KSFJHmR7AKocb6RqzQTrvG/wB3zjeKDfhSzcyN8RZeRdudEVKFP2gAsAM2UZZOo2afbQDH9Hb+GYdYkrnJDrqpBGmvLyMVHg+LXEvByAyMVBDakantg7hgSdR3nvracJ42boezeysY05B1PIxz3GndVzrcVdrcqnB0fZWhm+F2ZxVnSQgNw+GVX19oFXOgeE6y6jHXLmc+mg/zEV1bZs37kGVGFcz3rFwj1mKM/Jph4svc+02Ufw6n+b3UHCwvUSZ1JVcmGqyXOy8b/cf8oOJ7Nu19osx8lED3t7q+fuKYa4b9xwhguY1HfE+sV7X0xu9ZjAuuVFIJAJyqkO7GO7X2Csr0d6MDGYlwCRZViztGuUk5VE/WMemp8K6EbupKQjiXGGFpU+bvJ+n0Z55Ywd92ypYd2P1VBY+wSa12Lv4+yBcu8OuW0nckhddIJjT1r0DibW7A6rDILaDSF0k/aY7sfE0NwXSbEI2W5F20dCjARG0ajag1Jwm7TFaacPZPP36TXFEHDAePWen2fCm3OlpMzhx/3n/lrRdLuj6W8St+2kWLySEInq3BBK67SDI9e6ha4K3P+zXb7Iqlh6b1t5m3WmnuDD0nB/3AHk/9Kns9K1H+4/zr+VXXw1pR9BSTHJfypxwluAerQeSr+VaWEg+Xn9zLxU1zKY6Vpr8y2vIMvn3U4dKrf/Af2pyq3aw1vMOwn+BfyorYwdqTNu3p+4v5Vf6OHTz+5X6mb5gNekinbD3fQrrvFSjiLsIGFvmZ5Kd58fGtJb4bb/4af4V/KrVywFylQBryA7jVrB0nuvMjxVRczM2sZdMAYHEkn90az60/iHAcSAbty2tgHYXb1hCdAIkvHvq30n4i6lbSCeyAI1zuZ0I5gAbHTtUEb5PsRiT1ty8MzDmCY5xJoVPJTk3DT6hakJVIpS1GYe3ibY0w1y4ICq1rLcWBzzW2YSd6934ddOLwdq4essM6BiASro3NW25yCK8X6M8HxGAvzef5sqYAJysRyPca9l6M4lMRhQV+i0jTQwdfQw1FoZG5JblVpVFGC5LbuMDdv4hsQClwm4G6u3dbWCTlGpnTtd3OsFxjF4hsfetYi8bnVX4AHZQMQcxVBoJ76+isTw22yBMoUKQVgRlIMgivn7pPajjGL/8AqE99sH41SoZE23cPiMZGvkUY2t+fiNP0FtxdLn6lst75+FSjil5rxW4xfWB81kiJOh5iO+ndERDxyZIPlO/vqPGYnI8ogMyDJjmNZjfQ/wCKg37JaXauNx2OuZyqs4UfYVJ9WedPIVDjlN1FzHUMpnybQxVrDXGntqIOojWO6uMxzabmsqVmi5QzaXAPSm3lw7f3aD/xGrzpW7PofhXpnSjXC3Cf+Fb99015l9X0/KiYX2H8RTE+2i/YEr+u6rmHTeq+CXsD9chV/DrvVzZiKIctcC1ZKU3LFZuXY3t+z2T5fCgnEb5t3rbIYuBlKffB7J8pin9K8Zes3rtomAjQI0lWEqfUfgaypvMbguEyQZ9lGpYNp3kyqmLTVoo+ksVd622ly0YLAMDE6ETWN4rcNuxfZ9SgZzAgbEwNBHKo/k+4ncv4QW1uHPbdlyQpMMc4ZZE/WI5Ds0O+UzPaw+XM03mCMCeSkXNIgbqo0FbyNztbS5UKyjDvC1vpAg4fYtgwXwoKfeVgCPMZfxrDWb0kvBIlu1BM/oRV7o9hjewuGR0INnELHZIz2brAsVP1lkQY+NG7vDbF+1DgQl10ygwIJLKQByII91L1Y9tphaOqVgdbXNY62QQFkAbzI0M7bVAuOZovWZ7JhplY5az4jfbei9i3bRmQIcsCIEgkd87etWMVcTqbiiB2TMbAxNBcIjWVlM8aQWcR15Fu41p0toQZbMQDG/6NHeg3SnB2cCiXMQi3BnLKSZ+k0Dbuispx+xl6m3cWSlvR80ZgTPNTzB9tCThu6PbP+mt0pxg78zE88qfD5Xv9LGy4XxzBNcZ8S9p5DEZlzQzETAIPIsPImj/QywLeAa4gHzr3GEaaBig8hCz615Z+xtyC+oJ+FeoBmtcKtqdCLIOmncfjNHhUWVgcS5TmpMyvGcaFYtnAVTDMQTrzAgGf6UT4c1gW+veOzzPI/wAUa+cRUHBHRbMtGUAyTtpzJ9N6m6+2QcyrkYiJ0UjXvGtCjboGVPmgZxzHLeQZSCCCwghoKsq7jT63vrO4m6EE89PbWr4xhrS22NtQsLsABu9vX3VlrmD617aEwC0se5VVmYjxiY8YokZIBVTTIeG4JrsOxypJ1ylmJjUIo3I5nQDmdq0KYJEGiKwXmxZ+WhJUqqzBEFdNCake0yL2LQzQAtucmkgi3mYjRdD35gCCS8qJuW36xLeJUhGIKSCgtkg/N7AKwIy6fakVJVJMCopBNrFomQltgDuAy7sVHaVyq/VaWEQT3V1sKATkJOk5TuV+0piHEQY0IBBiNaGcTsC2yG2hN8k5FUtMEgSOYGp8/SrOHt3R2boKlSPnAAubKSc1vSVK5txodT9rNI1ZR1I4phTAXREVLjWgL4sOU7gjagxxOW4jAqQ+ZWymVDqRmA7gZVo5Zo5Va4lxMWzYYiQ11UOsaGdZOlNOV43RmK11CF3gi4dFxOIzNcAItoB1gXvcgbnVufP2XMDxVTaLsIy7gaTO0A7HwO1XuOY1FW2CJRUGp8YA/XjQS3fUjKVWC0khhsP3YmfD30hZLQ6Mb2uB+nXEFuYM3UMZSCNQYjloTWk+Rvia/sjK7Be1mGYgTMqSJ3+iPbQbjmCsCy+VQUUdYwAALFdVXTmTFUcDgbiW0Q4e1IEb+7blRKVk7gquazj1+57Mcda/4if4l/OvA+kqTxbFOASpvKQw+iQLSgkNsdZo6cIedhR5GmHh6ndI9AfxNHnNSVhaFNxdyThrgAdoA+JA5VWv2jcZWgjKxMTofMc6lbhNkCWkAb9hYH+an8R4cbduzftuTZuojK8AfSGgI1AkQRSqptbMc42qUkPWxlPW6g90wD/DtU2Gwz3LhKrIQEueSiDrP4eVX+D9Hb18gnMq75n/ANK6T+FP+VDidrh3Dmw9nS7iQba69ogiLlwnfRTE95UVcaTk9TFXERjojH9LGjCEd9uz77jn4V5p9U+VaW3xdsTh+pd+32VBIOoUlgDHmdaEXOD3gp7GbTdTPu391Ho0JU4tPqK1a0ZyTLvDk+bXz+AohYt7/rlUHDLRFtQwIMnQiD7DRCzb3/XKlaj1DQRXKUxk1q260xkrFzTQT6Z4nrMQ6mO0WAIM7GVGvlA8zWZQU3HcSFx8+oMyNARoZHOomxa+PsH512OLA5vDkbr5LeMLh8Yqvol/5ue59Shnx7S/xCiPyzY7NirdgbJbDn7zsw/BR7a82/axGhIO4MDQjWd6P3MHicRcN++wUsFBa6Qn0VgdgSw08KmeNy8srEHBuItYvBwTl0DR3SDIB5iAR5RzrXNjAl7J9IXO0oVeyIk9knWNTvOwg1kmwttDq5eN47A9pkn2CreBxzLctuRCoYCjZVOhA9tArxjLVbhqE3F2ZseG2VLEqwEye0quRO8FgSKg49fS1bCyQrtLMAXLEa7RrsKI/syyHAGtUON8Ra09kI2UMSG+kBBgKWK6gAkHymkrOWiOlKWWN2ZfF8XF1szJcMCB2ToKVnGp/wAO5/gajWMxmKSesUjfXrGKmNDBza/jVJ8be3MR94n8awqE77GHXh1G4fFK7KgVwzEKJRhqxgcu816b04XJhio2Cqvos/Csp8n9nr8RnuDs2iDGWZf6uo0AG/nFH+n+LJi2AYWGb1DQPj7KI04Qd9wLlnmrGQ6M8Ri0Awka6jWJ3B99aHNauWsgYlW0yBjBnllnbwqhgbKlQYA0376j4gpVC1uAQQQZy6Bhz74rWVr5jCbSGviDet3zEBYUD7txfyqtwq2C7yCfm9ACoMl05sCB3aiNatdDrZd71pySLoJzHfMIJBHfOU/xGm4fBtbvOrKGEZDsQZIIGsjVgBz3rLut+oCWpBj2IOW0jMLa57h7PZSdXYgAZtdgBORoGlXOMLntI6oL2wY5wvzZEy0/TXNy3GsRM0y3iLdq71txR1D2zZu5EItoubMpjmgLOrafXXQAGhPD8cEJdXAsyTbsqBIVm3JeTAMzBH0TvtU3BbE3BMDlYl7fZBZuyqBAQIQPBm6TrC6AETB0h+JxobEFGcs2gM6wIAIPnrpTuIY25cYJhpV50lVIadxzKkd+mhnWg+Fvrce2qjKtk5r95hHWXZBAAWTlDDNGpgRGoBtdWUGcSmZATmBDJuZ3S5JXuG2nLKBtQrpLZ6yzbXNHbmYn6rcqLYgKgywokycn0ez2VO/PtfrShXFcRbKp2gQhLPBE5QI05SSQB4kUxQV0VN2RsuDYdRgbOc5otkEwNe2wEr3QIofireFhZYnX6GZoJ+6ap8L4pOBQu31rq6aQvWO6gRyClRNZi7jmYkBerUz2plyvn9Ue80NU3KTS2GOLkgrhnH8URsSLRZEsgZnzR24Oi67a+oANGG47h+d+3/iFeaYfpLbW9EHJlCAqSOZM6ESNa1OG4hYMHrY8D1p9wYityoyT7K0BRrxe7NB/25ht+utmO5gT7BvQzHdKLIkIuY950AoF0v4gpt2kttOZ8zfT2QSNGP2sp9KzD3IELqSYH7zHYeQ+BolOirXkgdWu1pE1tm5c4jdFktksAjrI0zyRCT3agmmdP+MNjsUMLhxms2j1VhB9E5BlLxsdjB+yB31PcxAwGCCKfnboaDzJYdp/fPmRQboPZZ8dYynVSWJOpgKZOu+4HdrRZJbIqnezkz2LovxV8JhAuPuhurTN1p3CgTlfvjYNuQBOup8K6T9LHxeOOLuIroDFuzcBZBbEgKygjUyWPifAVovlU6SZ2/Y7Z7Kwbp7zuqemhPp415walle4FsnOKOdmQZJJIVZhQTsJ1gDTWnjHXN87e01WFKpcyXV4reH+8b1M0XwnSPKnbTMZ1IIHLTSP1FZuKfZ107/hWKkFNahKc3F6G7wl7rEV4IDawfOpGWKh4XibS2bas6hgigiRoYEin3sTaJ/2i7d9ctp32H76GTIpZan/AGdu41zqm7jTeYDlCXQ/h3X42xbOq58zd2W2C5B8Dlj1o9j8b1l1mjRifWDvtT+gmHNqzisURBCGyh7iVzv/APiH8RqlZkcuXjR6ewCo9bHbgB5cqZh5OhMgk5e+O40luy8AfVP4iuDs6/V+t4fvVoHc3nR7FC5aCTqkAjnHI+73Gg3TO387ZmNZHPnBG2n1TvQO5xN8NF23qV3WYBVu/Q8wvv8AOq2J6Rftd5SykEEka6BQGA0HPte86nQACptTvyHXUzUrM1B426QrLPZUXFcAq4gZWynmVymfZUHF7dl7fXWWKH61o9r1Rjy8D/ShuLxDMFzNMBVBO4UTAnuE1Qe92ioOgRvU5TFGUmha1zbfJpxILcdurhVGr6ksx5AkwPQbeeuj4veGILbKT6yNgPKsn0exMYa0qDVgT3bnUk+danAWSB2u1oPQa+HjVOCku0N06aWqIBhGCMiiHgxrAkgwVP8ASm3bEoBp2gu5juM61cvX8vsjT9a0KXPiUi2NEgXBsRpsO+KHKCjAKnZgbAO9pylt5IYtnAM27bDs2wZOdoJGfkDzNHb+GfEK4tN1txnEwAiqumUnXQaanwHfq7BWEhgFhwAGEQw5TB1jxpnD8V/2e9y/fcCyVhQqlsoG7PGp3G3IUrBym9QcnYPYbgqjs4hjdaNlMIDqSQCNWMmf4tsxFAOK/J5YlXw2IuWW2AYC4kmdgIygknQaa7VpcNd61jDHZXkSp7XaA5EaRIPeKmxWCzBgWYhgQQTt4r3EUd02tiKmnuzzG70VKuGxF9+wRGUCzAJChlylgQSQJBUyQJB2q8a4yMHls2F6t4zEgsuVZMMrSGKuDqHE9nMcxg16k3BkdRnuXZH1lYKR3wcpMHnXzfxrFdbiLpSSrOckmSUH0ZPlqa3Rg3LXYBW7Csi/jOPu+5LE6BdgYECQPoqANBv5UT4Vgrly/awrOQ911N8aqVtrL9WBAgQDMcyJ2ob0TwoN4udeqQuPFgQF09SR90Vq+H49UV8U7BQAURjp98r37ASPxp13tYWS5lzp90pAK4bDKOptkZ7iwVJGmTQ6Ac55jw18/wCM8YW7nRWYJBiADnbkDJEJQ/iGKDMRbL9XyzEZiPGNh4VSNYWisi3K50Va/biBof13/wBKpM3KkKu5gJ4HHOzqHJYaxPIxPwrS9DuE/tGIB/3dnn3tzPwrDFyNRvXoXyd8VSzg8Q5PbthmA7zEj4CrTJYG9NceLuLcKexa+bX+H6R/xT6AVa6O8SGFs38WYLx1Nod7sMxnyAUnwmssHJJJOu5PMk6k1zG43Mlu2Po28x83c6n0AUeh76yHk7RsVrtwsSzGWYksTuSTJJ8zTAK5NOmoAFTSdYpE1HaOtQhMa5bMEHxrpNMqiBU70pp9kZlB7x/SndWaSlox6OquGMviPZSy+Apxt/akHeDEj3VHfYIpaZgTQEHZsram3w5EgDOvWEd5e72T/gQeygJJGkfGifSTEFSloEdi1ZUjkMtsaeck0Ku3TE8+6ulFWikc6bu2yvh3+eYxyCx5a/H3Vd1OkDagmGvHPm72P40XS62Yg/l75qzKKdoxmsuOywIQ+Y+j+VCuCW4vGd1DD1kfkaN4m3n0I19dPZQrDXGXEGd2WT6Ssx5gGstBIy7LQVdxr5/hQ9bo68eY/ACrN64BpQmy4N5T3tVNaFJ6novRFD1QgkltzM6ToNfX21tLTQNRr+U1meieEyWbYMCe0fx17hrR69iiIVR2joJ2BO525CTH4Va2SH4lLFWbl691doQoBzudhJHZHexHs5+JjBWBaAA7Mac+/mfE99T4G8qLAX37nvOm9VuIXPr9xJPkdx8fSsSYWCfNF/E3NJdFaNiREeMwR7qzFrittTf66wWFkPdEHMG6vXKVOxjY7eXPY4T520NfpDf3VgeM3BbTEXTzS4SpEEHKVynzP41I7gtJPYJ/JPxK5ilxV66QSbuwnsggkLrpABgRyGutGemPGDhLOdVDOTChiFGil2YyRMKp7IMkwOdZz5GLhXCXN9bhidth9AchO/jNafjFnrlKnXePAwYPodfSrptJpyV0alTk6jUdDCdLumV6zYuWs9u51ttlDoChtmcrfWYGRnAEhgRrXkSXAi95I18ByA8960fyk4pP2lrNpVVLJKmNZZjJk88oKr5hu+seXmmG4/xVjnVb5rN7F/A8Ra0zMupZGUz3GNfcKgxGMe5Ad2YDYEkgctBy2qtNKaq5gexptcmuFqhRznT6Zb506oQZdOlWeHYoqroP94AD5A5vxAqpeNKy0GqLReZ9J8f6VXY1249MAqkam7scop1cpGrBnGqK1uakNRA6moWWBXDSU0jUKDfBIKEHcN7jr+dEerHf7qDcDf6YmNvjRQ/eHtrn1rqbH6NnBBriSdv0H4UN4hbBtsO8R7SBRvi6xc9F/lFCuKJFlz3CfYRS9N6oYmtGFeNJF+4pbt9YZ/dE6ADviJ7tuRkTi0KgsJaO8/EmnYu5867EyWZmB1IMsTI8K61kMAWJPh4117HJB9qYBjxovbYkz+XdVFcOVEAeQ/KrGHYlZG4+FUWW1B3oVbEXZP2f9U0UtXSV0Inx/wCooTiLpW6AdTlHpLN59xqFo5jsRGY+lD8AA122oBksoAjvIpnELpYhR3zV3orY/tVqSQASTrsMpJInwmqNR1aPXeH2wAAxMgR4DcacqlxV0AoFV2jMZI8OU6k+lNwjFTJ0A27zz18PDvqQXA0ttoQOXiTE+A99SzOgSWcZOgVz6R+NcxmIdkYLb3BgkgcvCafg7qtvAJgEehqTFKOrMROVu/fKfGqyms5EvE3w6gEEggaLqQeendz9tAemznEYZlLMWfKsrvoyuOR+yRVZQ/WZnuEjTSPDv86KYhFe2EdCbbCcy6tb1EPl3KydY5E99ClCcY35g8y3JPkps28PhXS5cS2xulu28MRlUSc0d0aCNO+a2n7Rhv8A4iz/AN4n515d/wCj7sSABpO2x8R4VLY4Q9rM1yznGUwDIHuI5c9xvWKdeSWqMzeujPJOkFk28Ret5g+S665wZDw5GcH96J9aHJT71zMS3eSfbrTbTb04IMdXK6a5UKOGmsacTTVEg1ZDtvanGmha7UIR3a4tduvMCNvfTUqiE0U4Un8BFIVCDq4a7XKhBrVEN6laoTvUIWEFJqSGutUIFujYBLg9wI99HuqXw99Bui9rUsecj2R+dG2WubiLZx6iuwHOPJF70X+UUF4svzFzy+IrQdI0+fP3U/kFBuMD+zXfu/EUrB2lH5Dcl2X8y0/D5wth0Hb6vWOYHxAoTYxSk66R7K2/R2zmt4Qd6A+Ggk/rxrC8SBuXLjLBBZjpz1O2lP4OcpRd+T0EsZCMZJrmtS67ZxA9v63piYSDIJ2g+P8AWhlu/k0II/XfRGzjAAJOh5703YUuce24Jy6/ruoebN27ecW0ZiETNAPZEvvG29GwwiZrUcJtdXZbq0D3HTtKCAXiWyh503jX3UOpPKg1ClnZ56cDkbX6R0IOkHujcVHh2NtusG6mRW06UWx1Kvdw+W6QBpczG2dwGy6HY1i8S8iPb51jidm/MI6WWdjSL0xaI6oExp2zHPllozguJ4h1kW0AjvJmPKP0KxHDrGa4o8vjXp3A8DC+70GlbpTlK7kGtroCrmLxIaCUBIldGAPfud6s4fHYmQrFSP3Rrrvud6O4zh4YAMoP9O7Wo7PDUQghdYnUz+NW8ze+hpIpWxbzDOt3n9k6+3apnxfUhboUsEbMy/ubHQTsDmjwq2UiWI2Gm2mtVWvAvl5gEwe7QE+2PbW7aGWnsD7PywYQf+5tPjct0658sGFIIOFJB5dZb56HnQK58nykkiwCCZBz3gIOv2vhUNz5O1jSyJ/vLo/E0G3cxW3ejzG6BmIX6MnLz0nTXnpFRDetD0s6OXMJcQFYW4OxBL6iAVk6zqD603A9EcXeQutrKAY7ZyEnwUiaNmSV2DUW3ZAKlVvH8Jv2f9raZATAJHZJ3gMNJqqBWk09jLTW40iurSakaso4a4aVKoQheupuKT0k3FUWWKQpVyoUPrlIUqhBjVFGtTMKiQamoQltGnNTUp8bVRDUcFSFteNtj7XMe6KIstQ4BINkf/IX8RVwiuRUleX51OpTj2bfmxpOlVuMSR+6n/LWgHGl/s977untFarpda/tb/dt/wDKSs1x8Rhrw/c+IoF7VUu/1GFrSv3ehoMDfFrBWLnPqWj/AAZgfaFHrWKsAGj3FsYBhMLaH/A18nyf/qaCWQAQPhXWw0ctNeJy8TLNUfgSXLAiqN7hn2Tl5+HsoqyimPa7qYF7AhxdErz5HlRro30ltsepu9llnUyFMaaMDIG29QXbcAmdv+tZ7DWAt8fvSJ8d/hWJwUg1Kq6b0PTMdx+2qlFKsW0yMgcSNpbQR599P6J9FRctvfv4YTdfsJoFS3oZVGmCSSNdgPGsQgykGdj+BmvQ73TnJITDIDsMzM+4I7xpOvLRT3yE69OySTGY1nLck6TcFtWbavbtqjZ1WQqhohuY5flUnCHMgSSNO7mR3Vncd0obEstprNu2A3WSgIOgYZTrt2h6rPOBouAmR6/H+lMYaOWnZmk7u6C11iTrPht41FdzQTp3c9vbVgrJjTaq2KYgkabUddxvlqVLt1gNAp08e+h+BfPikuO6WlRGVi5IUhmBIzctQKth5A5SB7/0KE8UtyIGmm4AMQZBA84qp3yu25hnotjjYS0gF3D6LAnOo0JGgg6aVAnSsDMLhsE8sheP4sw/CsBheLXSpzYy4bY2VUS1lJJJJcFi0k+QnvIiEpi3TrBxNSp5tZA2kxo3aI11Fc2WImv5fQFw4t7AX5W+mH7YllAEBtXGYZRcVhKx9cCNY2ox0ax92/at3XZgIBIJBzEiJ8uffqKy/SHB9cClzGi4bZzSlle6I1cE77zBkedB+DcbOEvG2XL2h2c0EwBJlUJ0k8v+lMxbqQ7/AM7kSElTn3M9N6R4a3ewz2nO+s81I1DDyNeLXrZVip3Bg+lbjG9M7JAUFjmmWUHQctGg6+ExWW41i7Fwg2gwYaHswCPbM+nOiUk46GcQ4y1TBbNTa42/6NdFMCoqRpUqogd6EcGt4rFdVcnKLbNAMSZCjX+KfSgDLDkDYMR7DWm+TnFi3xC0W0DhkJ+8NP8AMBWWUENB3nWgxzcWV9rL1DPLwlbe79CxXKdXKMBFSmkKRqEGsajTvp9w022NKhCZRXVEkDxA99cWnWRLqPEfjVPYiNxhV7aeGHT/AE/nVsiq2EHzg/uE/lQ1YY1wpvU7MTadME/tlzyt/wDLWsz0ltH9lvH9z4itd0xX+23PJP8AlrWd6ViMFe+5/qFCm7Ym3+3qFgr0P6+gTsdGrd7CYa4zOrmyNQQRCKsCCPOsVxKybN422GaOY5jfblXqfA1/sWD/ALlv5Aa826UEnEEz+hXVwcpO6b2tbwOdiopWaXXzIBcB1hh+vOmNibY3aPOR8K7hp76ixVmRTomRYvFKewrTO8d36iqGMsEQ43UzTcPZGY+dExbH6NUUQZw5AGpb9fCjPE8pFt1I7arOqntZRyB7MjkdZDUIUDPI5An3Vew90Zblk6fXBnYN2gRodAYPKYal6z1DwO4aBcB7wRW66Mt2NvrRPtNebYW6etUHeSDz1ivR+iYBQ+Dz7qJS9kNBhwbT8fP8qVy3Ou+ngfhrUqyBHLXxpy7R4b6ch3URuweNtgAgyjyZlO/fmHuaqWKeNe6P1rRrE2YzjbQOB3mSp90Vn+I3YEe7/pWkzElYHYa1rCtlObLOkfS7joYqLGuwzhSRA22jM3MESCBlU67jTlUlq9luXDBI0ncjtqCRrpqDH8YpX7TMl1u2erUMxVGYTq2pGgPfOwJPKuZJWk0CAuOSAo2B0bcE8oJ5+3UNMTNYjiH+1eNsx/Gtxj2zIy6AxmBk8ognlE5T4RMjWcLi3zOzbSSfbTWHAVCCkaQO9dNMghtOFcrtWQVKkaVQh2zeKMGUwRMHukRI7iORqD62vf8AGnlZqI1kvkWzTa6DIrlWUdFcNKkTUIR3KJcN4LevLmtqCPOKGtXpHQ5FWyp71Unw7OtCqTcVoMYekqkrMxl7guIT6Vl/QZvwmoMAp69F2OdZHMajcV67cIIj9CiPD7KpgscQBIS3rz1diRO9LzxLS1XXybGJYNLVPp5mIw2l3/7Fv8BUlw61Dbb55vC1aH+Wu3TrXNlv8kNrY9D6Yt/bbnkn/LX+lZXpRd/sd37p9aVKhvXE/wBvU3H9j+vobvgP/sWC/uG96qPjXm3SmyeszDY/GlSp/ByfEt3ekRLFJcO/f6yBuGNSYgb0qVdI5wKtwG/XhV8AR/Q0qVWQ7w61ma6e60faSI/A1LfSMjjfIBM9xMe4+80qVKVH2mHjsV4zXLb6AzDanuMfSYmYr0LoXORvvHn5cqVKi0Xow1Pc0tyO8VGxGkb+R7jSpUXkG/lYiuntgfaVhqPEH4msdxdoJHd8K5SrSMzBV/FKLpUkAMFMnyj2dkeoonw/9qaziVsx1TyCWntdkK0sGEQJIgN76VKufXVpP4gbmVW9ora6gd4I01HnWV4vhylxp2Ylge8HXT20qVGou0rAp6oorzrppUqaAnK7XaVQhylXaVQh1FMMRtl1/L8KrGlSrK3NciS3cindaKVKtFHRcFLNSpVRQ1q23RfjKphnzADKMu/LKBPjvXKVYqRTQehNxlddDQYbjAvBuqIYBcpfYAnWAOZiNaO2L/8A6t4gZ1y2fe70qVcupJ8Zw5K/kdFPNSUnzt5mIN355/uWx7Frj36VKs5Vf5LyMqT+rP/Z",
                link: "https://novamovie.net/legally-blonde-2-red-white-blonde-2003",
                likes: Math.floor(Math.random() * 1000),
                genre: "comedy",
                rewatch: false
            },
            {
                id: 30,
                title: "Iron Man",
                description: "After being held captive in an Afghan cave, billionaire engineer Tony Stark creates a unique weaponized suit of armor to fight evil.",
                image: "https://disney.images.edge.bamgrid.com/ripcut-delivery/v2/variant/disney/f6e1964e-6e56-4a80-9d17-53398df581d7/compose?aspectRatio=1.78&format=webp&width=440",
                link: "https://novamovie.net/iron-man-2008",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 31,
                title: "Iron Man 2",
                description: "With the world now aware of his identity as Iron Man, Tony Stark must contend with both his declining health and a vengeful mad man with ties to his father's legacy.",
                image: "https://upload.wikimedia.org/wikipedia/it/c/c2/Iron_Man_e_War_Machine.JPG",
                link: "https://novamovie.net/iron-man-2-2010",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 32,
                title: "Iron Man 3",
                description: "When Tony Stark's world is torn apart by a formidable terrorist called the Mandarin, he starts an odyssey of rebuilding and retribution.",
                image: "https://disney.images.edge.bamgrid.com/ripcut-delivery/v2/variant/disney/734e138a-6c61-44fd-a22a-93a84ab13ccb/compose?aspectRatio=1.78&format=webp&width=1200",
                link: "https://novamovie.net/iron-man-3-2013",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 33,
                title: "Thor",
                description: "The powerful but arrogant god Thor is cast out of Asgard to live amongst humans in Midgard (Earth), where he soon becomes one of their finest defenders.",
                image: "https://www.intofilm.org/intofilm-production/scaledcropped/1096x548https%3A/s3-eu-west-1.amazonaws.com/images.cdn.filmclub.org/film__16570-thor--hi_res-4bd2df9e.jpg/film__16570-thor--hi_res-4bd2df9e.jpg",
                link: "https://novamovie.net/thor-2011",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 34,
                title: "The Avengers",
                description: "Earth's mightiest heroes must come together and learn to fight as a team if they are going to stop the mischievous Loki and his alien army from enslaving humanity.",
                image: "https://www.play3.de/wp-content/uploads/2020/08/Marvels-Avengers-Beitragsbild-1.jpg",
                link: "https://novamovie.net/the-avengers-2012",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            },
            {
                id: 35,
                title: "Godzilla & Kong: The New Empire",
                description: "Godzilla and Kong team up to face a colossal threat that endangers their world and humanity.",
                image: "https://i.ytimg.com/vi/lV1OOlGwExM/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLD7zLwL-tXbVbvG-q2DbOUBc9j36Q",
                link: "https://nmovies.cc/godzilla-x-kong-the-new-empire-2024",
                likes: Math.floor(Math.random() * 1000),
                genre: "action",
                rewatch: false
            }
            
        ];
        
        // Music data
        const songs = [
            {
                id: 1,
                title: "Yellow",
                artist: "Coldplay",
                image: "https://i.ytimg.com/vi/uFcOuYnNe-c/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLDybt-Modx1ybcvqM6FrYnMOX5soQ",
                youtubeLink: "https://www.youtube.com/watch?v=yKNxeF4KMsY&pp=ygUPY29sZHBsYXkgeWVsbG93"
            },
            {
                id: 2,
                title: "1000 years",
                artist: "Christina Perri",
                image: "https://i1.sndcdn.com/artworks-000092892357-jsnf4g-t1080x1080.jpg",
                youtubeLink: "https://www.youtube.com/watch?v=rtOvBOTyX00"
            },
            {
                id: 3,
                title: "We don't talk anymore",
                artist: "Charlie Puth",
                image: "https://m.media-amazon.com/images/M/MV5BNmFlOWJkOTUtMzk5Ni00YjcxLTkyZTAtZjg5NmIzMTRkNjZkXkEyXkFqcGc@._V1_.jpg",
                youtubeLink: "https://www.youtube.com/watch?v=3AtDnEC4zak"
            },
            {
                id: 4,
                title: "Passenger - Let Her Go",
                artist: "Passenger",
                image: "https://m.media-amazon.com/images/M/MV5BZmNlZDliMDctNjIwZC00MTRmLWE3OWItYWY1OWQ3ZjIzNDQ3XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
                youtubeLink: "https://www.youtube.com/watch?v=RBumgq5yVrA"
            },
            {
                id: 5,
                title: "Pastello bianco",
                artist: "Pinguini Tattici",
                image: "https://www.cromosomimedia.com/wp-content/uploads/2023/06/WhatsApp-Image-2023-06-08-at-19.23.00.jpeg",
                youtubeLink: "https://www.youtube.com/watch?v=to8uZT8j8UI"
            },
            {
                id: 6,
                title: "Dimmi dove e quando",
                artist: "Benji e Fede",
                image: "https://i.ytimg.com/vi/hBG0Z-0uSf0/maxresdefault.jpg",
                youtubeLink: "https://www.youtube.com/watch?v=4QhyYngmW0I"
            },
            {
                id: 7,
                title: "Ti volevo dedicare",
                artist: "Rocco Hunt",
                image: "https://i.ytimg.com/vi/X5Wt6V5uUA4/maxresdefault.jpg",
                youtubeLink: "https://www.youtube.com/watch?v=kFF2i6sUj1M"
            },
            {
                id: 8,
                title: "Replay - Prod Iyaz",
                artist: "Bob Dylan",
                image: "https://i.scdn.co/image/ab67616d0000b273e70ea49e5320b263df7d0e1f",
                youtubeLink: "https://www.youtube.com/watch?v=GqYj_f9gVqM"
            }
        ];
        
        // State management
        let currentMovieIndex = 0;
        let likedMovies = [];
        let dislikedMovies = [];
        let currentX = 0;
        let currentY = 0;
        let initialX = 0;
        let initialY = 0;
        let isDragging = false;
        let currentCard = null;
        let totalSwipes = 0;
        let currentFilter = 'all';
        let activeTab = 'allMovies';
        let activeFilters = [];
        
        // DOM elements
        const swipeSection = document.getElementById('swipeSection');
        const librarySection = document.getElementById('librarySection');
        const gallerySection = document.getElementById('gallerySection');
        const musicSection = document.getElementById('musicSection');
        const giftSection = document.getElementById('giftSection');
        const swipeBtn = document.getElementById('swipeBtn');
        const libraryBtn = document.getElementById('libraryBtn');
        const cardContainer = document.getElementById('cardContainer');
        const actionButtons = document.getElementById('actionButtons');
        const libraryGrid = document.getElementById('libraryGrid');
        const rewatchGrid = document.getElementById('rewatchGrid');
        const galleryGrid = document.getElementById('galleryGrid');
        const musicGrid = document.getElementById('musicGrid');
        const dislikeBtn = document.getElementById('dislikeBtn');
        const likeBtn = document.getElementById('likeBtn');
        const tvBtn = document.getElementById('tvBtn');
        const notification = document.getElementById('notification');
        const likedCount = document.getElementById('likedCount');
        const dislikedCount = document.getElementById('dislikedCount');
        const swipedCount = document.getElementById('swipedCount');
        
        // Filter elements
        const filterButton = document.getElementById('filterButton');
        const filterDropdown = document.getElementById('filterDropdown');
        const actionFilter = document.getElementById('actionFilter');
        const dramaFilter = document.getElementById('dramaFilter');
        const horrorFilter = document.getElementById('horrorFilter');
        const comedyFilter = document.getElementById('comedyFilter');
        const sciFiFilter = document.getElementById('sciFiFilter');
        
        // Library tab elements
        const allMoviesTab = document.getElementById('allMoviesTab');
        const rewatchTab = document.getElementById('rewatchTab');
        const allMoviesContent = document.getElementById('allMoviesContent');
        const rewatchContent = document.getElementById('rewatchContent');
        
        // Genre filter elements
        const genreBtns = document.querySelectorAll('.genre-btn');
        
        // Bottom navigation elements
        const galleryNav = document.getElementById('galleryNav');
        const cardsNav = document.getElementById('cardsNav');
        const giftNav = document.getElementById('giftNav');
        const musicNav = document.getElementById('musicNav');
        const libraryNav = document.getElementById('libraryNav');
        
        // Modal elements
        const imageModal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const closeModal = document.getElementById('closeModal');
        
        // Initialize the app
        function init() {
            // Set the "gift" section as the default active section
            giftSection.classList.add('active');
            swipeSection.classList.add('hidden');
            librarySection.classList.remove('active');
            gallerySection.classList.remove('active');
            musicSection.classList.remove('active');
            actionButtons.classList.add('hidden');

            // Update bottom navigation to highlight "gift"
            giftNav.classList.add('active');
            cardsNav.classList.remove('active');
            galleryNav.classList.remove('active');
            libraryNav.classList.remove('active');
            musicNav.classList.remove('active');

            createCards();
            createLibraryCards();
            createRewatchCards();
            createGalleryItems();
            createMusicItems();
            updateStats();
            setupEventListeners();
        }
        
        // Create swipe cards with filtering
        function createCards() {
            cardContainer.innerHTML = '';
            
            // Filter movies based on active filters
            let filteredMovies = movies;
            if (activeFilters.length > 0) {
                filteredMovies = movies.filter(movie => 
                    activeFilters.includes(movie.genre)
                );
            }
            
            // Create multiple cards for stacking effect
            let availableMovies = filteredMovies.slice(currentMovieIndex);
            for (let i = 0; i < Math.min(3, availableMovies.length); i++) {
                const movie = availableMovies[i];
                const card = createCard(movie, i);
                cardContainer.appendChild(card);
            }
            
            if (currentMovieIndex < filteredMovies.length) {
                currentCard = cardContainer.firstChild;
                setupCardDragging();
            } else {
                showNoMoreMovies();
            }
        }
        
        // Create a single card
        function createCard(movie, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.style.zIndex = 3 - index;
            card.style.transform = `scale(${1 - index * 0.05}) translateY(${index * 15}px)`;
            
            card.innerHTML = `
                <img src="${movie.image}" alt="${movie.title}" class="card-image">
                <div class="card-content">
                    <h2 class="card-title">${movie.title}</h2>
                    <p class="card-description">${movie.description}</p>
                    <a href="${movie.link}" target="_blank" class="card-link">View Details</a>
                </div>
            `;
            
            return card;
        }
        
        // Create library cards with filtering
        function createLibraryCards() {
            libraryGrid.innerHTML = '';
            
            // Filter movies by genre
            let filteredMovies = movies;
            if (currentFilter !== 'all') {
                filteredMovies = movies.filter(movie => movie.genre === currentFilter);
            }
            
            // Add liked movies
            likedMovies.forEach(movie => {
                if (filteredMovies.includes(movie)) {
                    const card = createLibraryCard(movie);
                    libraryGrid.appendChild(card);
                }
            });
            
            // Add disliked movies
            dislikedMovies.forEach(movie => {
                if (filteredMovies.includes(movie)) {
                    const card = createLibraryCard(movie);
                    libraryGrid.appendChild(card);
                }
            });
            
            // Add remaining movies
            for (let i = currentMovieIndex; i < movies.length; i++) {
                const movie = movies[i];
                if (filteredMovies.includes(movie)) {
                    const card = createLibraryCard(movie);
                    libraryGrid.appendChild(card);
                }
            }
        }
        
        // Create rewatch movies cards
        function createRewatchCards() {
            rewatchGrid.innerHTML = '';
            
            // Add movies marked for rewatch
            movies.forEach(movie => {
                if (movie.rewatch) {
                    const card = createLibraryCard(movie);
                    rewatchGrid.appendChild(card);
                }
            });
            
            if (rewatchGrid.children.length === 0) {
                rewatchGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <p>No movies marked for rewatch yet.</p>
                        <p>Use the TV button on movie cards to add them here.</p>
                    </div>
                `;
            }
        }
        
        // Create a single library card
        function createLibraryCard(movie) {
            const card = document.createElement('div');
            card.className = 'library-card';
            
            let cardHTML = `
                <img src="${movie.image}" alt="${movie.title}" class="library-image">
                <div class="library-content">
                    <h3 class="library-title">${movie.title}</h3>
                    <p class="library-description">${movie.description}</p>
                    <a href="${movie.link}" target="_blank" class="library-link">View Details</a>
                </div>
            `;
            
            // Add rewatch badge if applicable
            if (movie.rewatch) {
                cardHTML = `<div class="rewatch-badge">Rewatch</div>` + cardHTML;
            }
            
            card.innerHTML = cardHTML;
            return card;
        }
        
        // Create gallery items by fetching from Google Sheets
async function createGalleryItems() {
    // !!! INCOLLA QUI IL LINK .CSV DEL TUO FOGLIO GOOGLE PUBBLICATO !!!
    const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSXnrCCgyeapHwAZ3WmAuhbH4pCKkFR9hOloLWZ0Zm-IvarWWVbD0ycB4QLzxfN9AHDhexRD2DdnsqH/pub?output=csv';

    galleryGrid.innerHTML = '<p style="text-align: center;">Caricamento galleria...</p>'; // Messaggio di caricamento

    try {
        const response = await fetch(sheetURL);
        if (!response.ok) {
            throw new Error('Errore di rete o foglio non raggiungibile.');
        }
        
        const csvText = await response.text();
        const imageUrls = csvText.split('\n').map(url => url.trim()).filter(url => url); // Divide per riga, pulisce e rimuove righe vuote

        galleryGrid.innerHTML = ''; // Pulisce il messaggio di caricamento

        if (imageUrls.length === 0) {
             galleryGrid.innerHTML = '<p style="text-align: center;">Nessuna immagine da mostrare.</p>';
             return;
        }

        imageUrls.forEach(imageUrl => {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';

            galleryItem.innerHTML = `
                <img src="${imageUrl}" alt="Gallery Image">
            `;

            // Aggiungi l'evento per aprire l'immagine a schermo intero
            galleryItem.addEventListener('click', () => openFullscreenImage(imageUrl, 'Gallery Image'));

            galleryGrid.appendChild(galleryItem);
        });

    } catch (error) {
        console.error('Impossibile caricare le immagini dalla galleria:', error);
        galleryGrid.innerHTML = '<p style="text-align: center; color: #ff5588;">Oops! Non è stato possibile caricare le immagini.</p>';
    }
}
        
        // Create music items
        function createMusicItems() {
            musicGrid.innerHTML = '';
            
            // Add all songs to music section
            songs.forEach(song => {
                const musicCard = document.createElement('div');
                musicCard.className = 'music-card';
                
                musicCard.innerHTML = `
                    <img src="${song.image}" alt="${song.title}" class="music-image">
                    <div class="music-content">
                        <h3 class="music-title">${song.title}</h3>
                        <p class="music-artist">${song.artist}</p>
                        <a href="${song.youtubeLink}" target="_blank" class="music-link">Listen on YouTube</a>
                    </div>
                `;
                
                musicGrid.appendChild(musicCard);
            });
        }
        
        // Open image in fullscreen
        function openFullscreenImage(imageSrc, altText) {
            modalImage.src = imageSrc;
            modalImage.alt = altText;
            imageModal.classList.add('active');
        }
        
        // Close fullscreen image
        function closeFullscreenImage() {
            imageModal.classList.remove('active');
        }
        
        // Update statistics
        function updateStats() {
            likedCount.textContent = likedMovies.length;
            dislikedCount.textContent = dislikedMovies.length;
            swipedCount.textContent = totalSwipes;
        }
        
        // Setup card dragging
        function setupCardDragging() {
            if (!currentCard) return;
            
            currentCard.addEventListener('mousedown', startDrag);
            currentCard.addEventListener('touchstart', startDrag, { passive: false });
        }
        
        // Start dragging
        function startDrag(e) {
            if (!currentCard) return;
            
            isDragging = true;
            
            if (e.type === 'mousedown') {
                initialX = e.clientX;
                initialY = e.clientY;
            } else {
                initialX = e.touches[0].clientX;
                initialY = e.touches[0].clientY;
            }
            
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('touchend', stopDrag);
        }
        
        // Dragging
        function drag(e) {
            if (!isDragging || !currentCard) return;
            
            e.preventDefault();
            
            if (e.type === 'mousemove') {
                currentX = e.clientX;
                currentY = e.clientY;
            } else {
                currentX = e.touches[0].clientX;
                currentY = e.touches[0].clientY;
            }
            
            const diffX = currentX - initialX;
            const diffY = currentY - initialY;
            
            currentCard.style.transform = `translate(${diffX}px, ${diffY}px) rotate(${diffX * 0.1}deg)`;
        }
        
        // Stop dragging
        function stopDrag() {
            if (!isDragging || !currentCard) return;
            
            isDragging = false;
            
            const diffX = currentX - initialX;
            const diffY = currentY - initialY;
            
            // Determine if swipe was significant
            if (Math.abs(diffX) > 100 || Math.abs(diffY) > 100) {
                // Swipe direction
                if (diffX > 100) {
                    // Right swipe (like)
                    handleLike();
                } else if (diffX < -100) {
                    // Left swipe (dislike)
                    handleDislike();
                } else if (diffY < -100) {
                    // Up swipe (rewatch)
                    handleRewatch();
                }
            } else {
                // Reset position
                currentCard.style.transform = '';
            }
            
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
            document.removeEventListener('touchmove', drag);
            document.removeEventListener('touchend', stopDrag);
        }
        
        // Handle like action
        function handleLike() {
            if (!currentCard || currentMovieIndex >= movies.length) return;
            
            const movie = movies[currentMovieIndex];
            likedMovies.push(movie);
            totalSwipes++;
            
            showNotification(`Liked: ${movie.title}`);
            nextCard();
            updateStats();
        }
        
        // Handle dislike action
        function handleDislike() {
            if (!currentCard || currentMovieIndex >= movies.length) return;
            
            const movie = movies[currentMovieIndex];
            dislikedMovies.push(movie);
            totalSwipes++;
            
            showNotification(`Disliked: ${movie.title}`);
            nextCard();
            updateStats();
        }
        
        // Handle rewatch action
        function handleRewatch() {
            if (!currentCard || currentMovieIndex >= movies.length) return;
            
            const movie = movies[currentMovieIndex];
            movie.rewatch = true;
            
            showNotification(`Let's rewatch it :)`);
            nextCard();
            createRewatchCards();
        }
        
        // Move to next card
        function nextCard() {
            currentMovieIndex++;
            
            // Check if we need to reset the index based on filters
            if (activeFilters.length > 0) {
                const filteredMovies = movies.filter(movie => 
                    activeFilters.includes(movie.genre)
                );
                
                if (currentMovieIndex >= filteredMovies.length) {
                    currentMovieIndex = 0;
                }
            } else {
                if (currentMovieIndex >= movies.length) {
                    currentMovieIndex = 0;
                }
            }
            
            currentCard.style.transform = 'translateX(100%) rotate(30deg)';
            
            setTimeout(() => {
                createCards();
                createLibraryCards();
                createGalleryItems();
            }, 300);
        }
        
        // Show no more movies message
        function showNoMoreMovies() {
            cardContainer.innerHTML = `
                <div class="no-more-movies">
                    <h2>No more movies to swipe!</h2>
                    <p>Check out your library to see all movies.</p>
                </div>
            `;
        }
        
        // Show notification
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Top navigation buttons (hidden on mobile)
            swipeBtn.addEventListener('click', () => {
                swipeSection.classList.add('active');
                swipeSection.classList.remove('hidden');
                actionButtons.classList.remove('hidden');
                librarySection.classList.remove('active');
                gallerySection.classList.remove('active');
                musicSection.classList.remove('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.add('active');
                libraryBtn.classList.remove('active');
                
                // Update bottom nav
                cardsNav.classList.add('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.remove('active');
                giftNav.classList.remove('active');
                musicNav.classList.remove('active');
            });
            
            libraryBtn.addEventListener('click', () => {
                swipeSection.classList.remove('active');
                swipeSection.classList.add('hidden');
                actionButtons.classList.add('hidden');
                librarySection.classList.add('active');
                gallerySection.classList.remove('active');
                musicSection.classList.remove('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.remove('active');
                libraryBtn.classList.add('active');
                
                // Update bottom nav
                cardsNav.classList.remove('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.add('active');
                giftNav.classList.remove('active');
                musicNav.classList.remove('active');
            });
            
            // Bottom navigation
            galleryNav.addEventListener('click', () => {
                swipeSection.classList.remove('active');
                swipeSection.classList.add('hidden');
                actionButtons.classList.add('hidden');
                librarySection.classList.remove('active');
                gallerySection.classList.add('active');
                musicSection.classList.remove('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.remove('active');
                libraryBtn.classList.remove('active');
                
                // Update bottom nav
                cardsNav.classList.remove('active');
                galleryNav.classList.add('active');
                libraryNav.classList.remove('active');
                giftNav.classList.remove('active');
                musicNav.classList.remove('active');
            });
            
            cardsNav.addEventListener('click', () => {
                swipeSection.classList.add('active');
                swipeSection.classList.remove('hidden');
                actionButtons.classList.remove('hidden');
                librarySection.classList.remove('active');
                gallerySection.classList.remove('active');
                musicSection.classList.remove('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.add('active');
                libraryBtn.classList.remove('active');
                
                // Update bottom nav
                cardsNav.classList.add('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.remove('active');
                giftNav.classList.remove('active');
                musicNav.classList.remove('active');
            });
            
            giftNav.addEventListener('click', () => {
                swipeSection.classList.remove('active');
                swipeSection.classList.add('hidden');
                actionButtons.classList.add('hidden');
                librarySection.classList.remove('active');
                gallerySection.classList.remove('active');
                musicSection.classList.remove('active');
                giftSection.classList.add('active');
                swipeBtn.classList.remove('active');
                libraryBtn.classList.remove('active');
                
                // Update bottom nav
                cardsNav.classList.remove('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.remove('active');
                giftNav.classList.add('active');
                musicNav.classList.remove('active');
            });
            
            musicNav.addEventListener('click', () => {
                swipeSection.classList.remove('active');
                swipeSection.classList.add('hidden');
                actionButtons.classList.add('hidden');
                librarySection.classList.remove('active');
                gallerySection.classList.remove('active');
                musicSection.classList.add('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.remove('active');
                libraryBtn.classList.remove('active');
                
                // Update bottom nav
                cardsNav.classList.remove('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.remove('active');
                giftNav.classList.remove('active');
                musicNav.classList.add('active');
            });
            
            libraryNav.addEventListener('click', () => {
                swipeSection.classList.remove('active');
                swipeSection.classList.add('hidden');
                actionButtons.classList.add('hidden');
                librarySection.classList.add('active');
                gallerySection.classList.remove('active');
                musicSection.classList.remove('active');
                giftSection.classList.remove('active');
                swipeBtn.classList.remove('active');
                libraryBtn.classList.add('active');
                
                // Update bottom nav
                cardsNav.classList.remove('active');
                galleryNav.classList.remove('active');
                libraryNav.classList.add('active');
                giftNav.classList.remove('active');
                musicNav.classList.remove('active');
            });
            
            // Action buttons
            dislikeBtn.addEventListener('click', handleDislike);
            likeBtn.addEventListener('click', handleLike);
            tvBtn.addEventListener('click', handleRewatch);
            
            // Filter button
            filterButton.addEventListener('click', () => {
                filterDropdown.classList.toggle('active');
            });
            
            // Filter checkboxes
            actionFilter.addEventListener('change', () => {
                updateFilters();
            });
            
            dramaFilter.addEventListener('change', () => {
                updateFilters();
            });
            
            horrorFilter.addEventListener('change', () => {
                updateFilters();
            });
            
            comedyFilter.addEventListener('change', () => {
                updateFilters();
            });
            
            sciFiFilter.addEventListener('change', () => {
                updateFilters();
            });
            
            // Library tabs
            allMoviesTab.addEventListener('click', () => {
                activeTab = 'allMovies';
                allMoviesTab.classList.add('active');
                rewatchTab.classList.remove('active');
                allMoviesContent.classList.add('active');
                rewatchContent.classList.remove('active');
            });
            
            rewatchTab.addEventListener('click', () => {
                activeTab = 'rewatch';
                rewatchTab.classList.add('active');
                allMoviesTab.classList.remove('active');
                rewatchContent.classList.add('active');
                allMoviesContent.classList.remove('active');
            });
            
            // Genre filters
            genreBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active filter button
                    genreBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Update current filter
                    currentFilter = btn.dataset.genre;
                    
                    // Re-render library cards with new filter
                    createLibraryCards();
                });
            });
            
            // Modal close button
            closeModal.addEventListener('click', closeFullscreenImage);
            
            // Close modal when clicking outside the image
            imageModal.addEventListener('click', (e) => {
                if (e.target === imageModal) {
                    closeFullscreenImage();
                }
            });
            
            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && imageModal.classList.contains('active')) {
                    closeFullscreenImage();
                }
            });
            
            // Close filter dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!filterButton.contains(e.target) && !filterDropdown.contains(e.target)) {
                    filterDropdown.classList.remove('active');
                }
            });
        }
        
        // Update filters based on checkboxes
        function updateFilters() {
            activeFilters = [];
            
            if (actionFilter.checked) activeFilters.push('action');
            if (dramaFilter.checked) activeFilters.push('drama');
            if (horrorFilter.checked) activeFilters.push('horror');
            if (comedyFilter.checked) activeFilters.push('comedy');
            if (sciFiFilter.checked) activeFilters.push('sci-fi');
            
            // Reset currentMovieIndex if filters change
            currentMovieIndex = 0;
            
            // Re-render cards with new filters
            createCards();
        }
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
